{
  "test_summary": {
    "total_tests": 10,
    "passed_tests": 10,
    "failed_tests": 0,
    "success_rate": 1.0,
    "runtime_seconds": 54.00543260574341,
    "test_time": "20250717_030938"
  },
  "test_results": {
    "config_test": {
      "status": "passed",
      "details": {
        "trading_config_loaded": true,
        "risk_config_loaded": true,
        "system_config_loaded": true,
        "api_credentials_loaded": true,
        "config_valid": true,
        "validation_errors": [],
        "paths_count": 2
      }
    },
    "okx_api_test": {
      "status": "passed",
      "details": {
        "balance_retrieved": true,
        "balance_response_time": 0.0771937370300293,
        "balance_data": {
          "USDC": 59940.00000028545,
          "USDT": 39990.0081283224,
          "BTC": 0.099900008654,
          "OKB": 167.83023187,
          "ETH": 5.8e-07,
          "DOGE": 1.374e-07
        },
        "orderbook_results": {
          "BTC-USDT": {
            "success": true,
            "response_time": 0.10341167449951172,
            "bid_count": 20,
            "ask_count": 20
          },
          "BTC-USDC": {
            "success": true,
            "response_time": 0.10506629943847656,
            "bid_count": 20,
            "ask_count": 20
          },
          "USDT-USDC": {
            "success": true,
            "response_time": 0.10183191299438477,
            "bid_count": 20,
            "ask_count": 20
          }
        },
        "extra_orderbook_success": true,
        "extra_orderbook_response_time": 0.10166478157043457,
        "api_flag": "1"
      }
    },
    "data_collector_test": {
      "status": "passed",
      "details": {
        "start_success": true,
        "orderbook_data": {
          "BTC-USDT": {
            "available": true,
            "timestamp": 1752721786.7314162,
            "bid_count": 400,
            "ask_count": 400
          },
          "BTC-USDC": {
            "available": true,
            "timestamp": 1752721786.8326423,
            "bid_count": 400,
            "ask_count": 400
          },
          "USDT-USDC": {
            "available": true,
            "timestamp": 1752721782.072019,
            "bid_count": 86,
            "ask_count": 328
          }
        },
        "balance_available": true,
        "performance_stats": {
          "uptime_seconds": 5.001147747039795,
          "api_calls": {
            "get_balance": {
              "count": 0,
              "avg_response_time": 0,
              "error_rate": 0,
              "errors": 0
            },
            "get_orderbook": {
              "count": 0,
              "avg_response_time": 0,
              "error_rate": 0,
              "errors": 0
            }
          },
          "websocket": {
            "messages_received": 55,
            "last_message_time": 1752721786.832335,
            "connection_errors": 0,
            "reconnections": 0,
            "msg_rate_per_sec": 10.997475536001668
          },
          "cache": {
            "hits": 3,
            "misses": 0,
            "orderbook_updates": 55,
            "balance_updates": 0,
            "hit_rate": 1.0
          },
          "errors": {
            "total": 0,
            "last_hour": 0,
            "last_error_time": 0,
            "error_rate_per_min": 0.0
          },
          "timestamp": 1752721786.8902209
        },
        "subscribed_pairs_count": 0
      }
    },
    "arbitrage_engine_test": {
      "status": "passed",
      "details": {
        "paths_loaded": 2,
        "opportunities_found": 0,
        "opportunities_details": [],
        "monitoring_stats": {
          "check_count": 3,
          "opportunity_count": 0,
          "average_profit_rate": 0,
          "runtime_seconds": 8.240687608718872,
          "checks_per_minute": 21.842837460499666,
          "opportunities_per_hour": 0.0,
          "last_check_time": 1752721795.2572916
        },
        "fee_rate": 0.001,
        "min_profit_threshold": 0.003
      }
    },
    "risk_manager_test": {
      "status": "passed",
      "details": {
        "total_balance_usdt": 121708.03350204787,
        "amount_checks": {
          "100": {
            "passed": true,
            "risk_level": "low",
            "suggested_amount": 100
          },
          "1000": {
            "passed": true,
            "risk_level": "low",
            "suggested_amount": 1000
          },
          "10000": {
            "passed": true,
            "risk_level": "medium",
            "suggested_amount": 10000
          },
          "100000": {
            "passed": false,
            "risk_level": "high",
            "suggested_amount": 39990.0081283224
          }
        },
        "frequency_check": true,
        "risk_stats": {
          "risk_level": "low",
          "trading_enabled": true,
          "arbitrage_count_today": 0,
          "max_daily_trades": 100,
          "total_profit_today": 0.0,
          "total_loss_today": 0.0,
          "net_profit_today": 0.0,
          "rejected_opportunities": 0,
          "last_arbitrage_time": 0,
          "time_since_last_arbitrage": 0,
          "can_trade_now": true,
          "risk_limits": {
            "max_position_ratio": 0.2,
            "max_single_trade_ratio": 0.1,
            "min_arbitrage_interval": 10.0,
            "max_daily_trades": 100,
            "max_daily_loss_ratio": 0.05,
            "stop_loss_ratio": 0.1
          }
        },
        "position_check": true,
        "risk_config": {
          "max_position_ratio": 0.2,
          "max_single_trade_ratio": 0.1,
          "min_arbitrage_interval": 10.0,
          "max_daily_trades": 100,
          "max_daily_loss_ratio": 0.05,
          "stop_loss_ratio": 0.1,
          "balance_check_interval": 60.0,
          "network_retry_count": 3,
          "network_retry_delay": 1.0
        },
        "current_risk_level": "low"
      }
    },
    "trade_executor_test": {
      "status": "passed",
      "details": {
        "balance_available": true,
        "test_check_available": true,
        "config_params": {
          "has_timeout": true,
          "has_retries": true,
          "has_okx_client": true
        },
        "method_availability": {
          "execute_arbitrage": true,
          "get_balance_check": true
        },
        "status_tracking": {
          "order_id": "test_order_123",
          "tracking_method_available": false
        }
      }
    },
    "websocket_test": {
      "status": "passed",
      "details": {
        "connection_success": true,
        "subscription_results": {
          "BTC-USDT": true,
          "BTC-USDC": true
        },
        "messages_received": 0,
        "connection_time": 0,
        "subscribed_channels": 2
      }
    },
    "integration_test": {
      "status": "passed",
      "details": {
        "startup_success": true,
        "module_status": {
          "data_collector": true,
          "arbitrage_engine": false,
          "status": "running"
        },
        "system_stats": "{'runtime_seconds': 10.000624179840088, 'total_opportunities': 0, 'executed_trades': 0, 'successful_trades': 0, 'failed_trades': 0, 'success_rate': 0, 'total_profit': 0.0, 'total_loss': 0.0, 'net_profit': 0.0, 'last_opportunity_time': 0.0, 'last_trade_time': 0.0, 'opportunities_per_hour': 0.0, 'trades_per_hour': 0.0}",
        "opportunities_detected": false,
        "runtime_seconds": 15
      }
    },
    "performance_test": {
      "status": "passed",
      "details": {
        "memory_usage": {
          "start_mb": 56.78125,
          "end_mb": 56.78125,
          "delta_mb": 0.0
        },
        "cpu_usage": {
          "start_percent": 0.0,
          "end_percent": 2.5
        },
        "api_performance": {
          "balance_query": {
            "avg_time": 0.06617159843444824,
            "max_time": 0.07760238647460938,
            "min_time": 0.05516958236694336
          },
          "orderbook_query": {
            "avg_time": 0.0949211597442627,
            "max_time": 0.10381269454956055,
            "min_time": 0.07760119438171387
          }
        }
      }
    },
    "error_handling_test": {
      "status": "passed",
      "details": {
        "error_handling_results": {
          "rapid_requests": [
            {
              "success": true,
              "response_time": 0.06900262832641602
            },
            {
              "success": true,
              "response_time": 0.06707644462585449
            },
            {
              "success": true,
              "response_time": 0.05797886848449707
            },
            {
              "success": true,
              "response_time": 0.05765342712402344
            },
            {
              "success": true,
              "response_time": 0.06130218505859375
            },
            {
              "success": true,
              "response_time": 0.06139564514160156
            },
            {
              "success": true,
              "response_time": 0.08589935302734375
            },
            {
              "success": true,
              "response_time": 0.061792850494384766
            },
            {
              "success": true,
              "response_time": 0.056284427642822266
            },
            {
              "success": true,
              "response_time": 0.05801057815551758
            }
          ],
          "invalid_pair_handling": true,
          "config_error_handling": true
        },
        "rapid_request_success_rate": 1.0,
        "invalid_pair_handled": true,
        "config_error_handled": true
      }
    }
  }
}