{
  "test_summary": {
    "total_tests": 10,
    "passed_tests": 10,
    "failed_tests": 0,
    "success_rate": 1.0,
    "runtime_seconds": 54.204737186431885,
    "test_time": "20250717_030647"
  },
  "test_results": {
    "config_test": {
      "status": "passed",
      "details": {
        "trading_config_loaded": true,
        "risk_config_loaded": true,
        "system_config_loaded": true,
        "api_credentials_loaded": true,
        "config_valid": true,
        "validation_errors": [],
        "paths_count": 2
      }
    },
    "okx_api_test": {
      "status": "passed",
      "details": {
        "balance_retrieved": true,
        "balance_response_time": 0.0731968879699707,
        "balance_data": {
          "USDC": 59940.00000028545,
          "USDT": 39990.0081283224,
          "BTC": 0.099900008654,
          "OKB": 167.83023187,
          "ETH": 5.8e-07,
          "DOGE": 1.374e-07
        },
        "orderbook_results": {
          "BTC-USDT": {
            "success": true,
            "response_time": 0.09428095817565918,
            "bid_count": 20,
            "ask_count": 20
          },
          "BTC-USDC": {
            "success": true,
            "response_time": 0.09552311897277832,
            "bid_count": 20,
            "ask_count": 20
          },
          "USDT-USDC": {
            "success": true,
            "response_time": 0.10137796401977539,
            "bid_count": 20,
            "ask_count": 20
          }
        },
        "extra_orderbook_success": true,
        "extra_orderbook_response_time": 0.10276579856872559,
        "api_flag": "1"
      }
    },
    "data_collector_test": {
      "status": "passed",
      "details": {
        "start_success": true,
        "orderbook_data": {
          "BTC-USDT": {
            "available": true,
            "timestamp": 1752721615.0258718,
            "bid_count": 400,
            "ask_count": 400
          },
          "BTC-USDC": {
            "available": true,
            "timestamp": 1752721615.2244837,
            "bid_count": 400,
            "ask_count": 400
          },
          "USDT-USDC": {
            "available": true,
            "timestamp": 1752721611.056806,
            "bid_count": 85,
            "ask_count": 328
          }
        },
        "balance_available": true,
        "performance_stats": {
          "uptime_seconds": 5.001390695571899,
          "api_calls": {
            "get_balance": {
              "count": 0,
              "avg_response_time": 0,
              "error_rate": 0,
              "errors": 0
            },
            "get_orderbook": {
              "count": 0,
              "avg_response_time": 0,
              "error_rate": 0,
              "errors": 0
            }
          },
          "websocket": {
            "messages_received": 20,
            "last_message_time": 1752721615.2241964,
            "connection_errors": 0,
            "reconnections": 0,
            "msg_rate_per_sec": 3.9988877529019033
          },
          "cache": {
            "hits": 3,
            "misses": 0,
            "orderbook_updates": 20,
            "balance_updates": 0,
            "hit_rate": 1.0
          },
          "errors": {
            "total": 0,
            "last_hour": 0,
            "last_error_time": 0,
            "error_rate_per_min": 0.0
          },
          "timestamp": 1752721615.7785928
        },
        "subscribed_pairs_count": 0
      }
    },
    "arbitrage_engine_test": {
      "status": "passed",
      "details": {
        "paths_loaded": 2,
        "opportunities_found": 0,
        "opportunities_details": [],
        "monitoring_stats": {
          "check_count": 3,
          "opportunity_count": 0,
          "average_profit_rate": 0,
          "runtime_seconds": 8.262215852737427,
          "checks_per_minute": 21.785923196422257,
          "opportunities_per_hour": 0.0,
          "last_check_time": 1752721624.162291
        },
        "fee_rate": 0.001,
        "min_profit_threshold": 0.003
      }
    },
    "risk_manager_test": {
      "status": "passed",
      "details": {
        "total_balance_usdt": 121708.03350204787,
        "amount_checks": {
          "100": {
            "passed": true,
            "risk_level": "low",
            "suggested_amount": 100
          },
          "1000": {
            "passed": true,
            "risk_level": "low",
            "suggested_amount": 1000
          },
          "10000": {
            "passed": true,
            "risk_level": "medium",
            "suggested_amount": 10000
          },
          "100000": {
            "passed": false,
            "risk_level": "high",
            "suggested_amount": 39990.0081283224
          }
        },
        "frequency_check": true,
        "risk_stats": {
          "risk_level": "low",
          "trading_enabled": true,
          "arbitrage_count_today": 0,
          "max_daily_trades": 100,
          "total_profit_today": 0.0,
          "total_loss_today": 0.0,
          "net_profit_today": 0.0,
          "rejected_opportunities": 0,
          "last_arbitrage_time": 0,
          "time_since_last_arbitrage": 0,
          "can_trade_now": true,
          "risk_limits": {
            "max_position_ratio": 0.2,
            "max_single_trade_ratio": 0.1,
            "min_arbitrage_interval": 10.0,
            "max_daily_trades": 100,
            "max_daily_loss_ratio": 0.05,
            "stop_loss_ratio": 0.1
          }
        },
        "position_check": true,
        "risk_config": {
          "max_position_ratio": 0.2,
          "max_single_trade_ratio": 0.1,
          "min_arbitrage_interval": 10.0,
          "max_daily_trades": 100,
          "max_daily_loss_ratio": 0.05,
          "stop_loss_ratio": 0.1,
          "balance_check_interval": 60.0,
          "network_retry_count": 3,
          "network_retry_delay": 1.0
        },
        "current_risk_level": "low"
      }
    },
    "trade_executor_test": {
      "status": "passed",
      "details": {
        "balance_available": true,
        "test_check_available": true,
        "config_params": {
          "has_timeout": true,
          "has_retries": true,
          "has_okx_client": true
        },
        "method_availability": {
          "execute_arbitrage": true,
          "get_balance_check": true
        },
        "status_tracking": {
          "order_id": "test_order_123",
          "tracking_method_available": false
        }
      }
    },
    "websocket_test": {
      "status": "passed",
      "details": {
        "connection_success": true,
        "subscription_results": {
          "BTC-USDT": true,
          "BTC-USDC": true
        },
        "messages_received": 0,
        "connection_time": 0,
        "subscribed_channels": 2
      }
    },
    "integration_test": {
      "status": "passed",
      "details": {
        "startup_success": true,
        "module_status": {
          "data_collector": true,
          "arbitrage_engine": false,
          "status": "running"
        },
        "system_stats": "{'runtime_seconds': 10.000826358795166, 'total_opportunities': 0, 'executed_trades': 0, 'successful_trades': 0, 'failed_trades': 0, 'success_rate': 0, 'total_profit': 0.0, 'total_loss': 0.0, 'net_profit': 0.0, 'last_opportunity_time': 0.0, 'last_trade_time': 0.0, 'opportunities_per_hour': 0.0, 'trades_per_hour': 0.0}",
        "opportunities_detected": false,
        "runtime_seconds": 15
      }
    },
    "performance_test": {
      "status": "passed",
      "details": {
        "memory_usage": {
          "start_mb": 55.87890625,
          "end_mb": 56.62890625,
          "delta_mb": 0.75
        },
        "cpu_usage": {
          "start_percent": 0.0,
          "end_percent": 2.3
        },
        "api_performance": {
          "balance_query": {
            "avg_time": 0.07431488037109375,
            "max_time": 0.0995485782623291,
            "min_time": 0.05937480926513672
          },
          "orderbook_query": {
            "avg_time": 0.10340595245361328,
            "max_time": 0.11731481552124023,
            "min_time": 0.0925295352935791
          }
        }
      }
    },
    "error_handling_test": {
      "status": "passed",
      "details": {
        "error_handling_results": {
          "rapid_requests": [
            {
              "success": true,
              "response_time": 0.06497335433959961
            },
            {
              "success": true,
              "response_time": 0.06217002868652344
            },
            {
              "success": true,
              "response_time": 0.05437970161437988
            },
            {
              "success": true,
              "response_time": 0.05640268325805664
            },
            {
              "success": true,
              "response_time": 0.05487799644470215
            },
            {
              "success": true,
              "response_time": 0.059130191802978516
            },
            {
              "success": true,
              "response_time": 0.05748152732849121
            },
            {
              "success": true,
              "response_time": 0.05268239974975586
            },
            {
              "success": true,
              "response_time": 0.0653829574584961
            },
            {
              "success": true,
              "response_time": 0.0645904541015625
            }
          ],
          "invalid_pair_handling": true,
          "config_error_handling": true
        },
        "rapid_request_success_rate": 1.0,
        "invalid_pair_handled": true,
        "config_error_handled": true
      }
    }
  }
}