{
  "test_summary": {
    "total_tests": 10,
    "passed_tests": 7,
    "failed_tests": 3,
    "success_rate": 0.7,
    "runtime_seconds": 54.224327087402344,
    "test_time": "20250717_030312"
  },
  "test_results": {
    "config_test": {
      "status": "passed",
      "details": {
        "trading_config_loaded": true,
        "risk_config_loaded": true,
        "system_config_loaded": true,
        "api_credentials_loaded": true,
        "config_valid": true,
        "validation_errors": [],
        "paths_count": 2
      }
    },
    "okx_api_test": {
      "status": "passed",
      "details": {
        "balance_retrieved": true,
        "balance_response_time": 0.07403707504272461,
        "balance_data": {
          "USDC": 59940.00000028545,
          "USDT": 39990.0081283224,
          "BTC": 0.099900008654,
          "OKB": 167.83023187,
          "ETH": 5.8e-07,
          "DOGE": 1.374e-07
        },
        "orderbook_results": {
          "BTC-USDT": {
            "success": true,
            "response_time": 0.11682868003845215,
            "bid_count": 20,
            "ask_count": 20
          },
          "BTC-USDC": {
            "success": true,
            "response_time": 0.09930014610290527,
            "bid_count": 20,
            "ask_count": 20
          },
          "USDT-USDC": {
            "success": true,
            "response_time": 0.1037590503692627,
            "bid_count": 20,
            "ask_count": 20
          }
        },
        "extra_orderbook_success": true,
        "extra_orderbook_response_time": 0.10389184951782227,
        "api_flag": "1"
      }
    },
    "data_collector_test": {
      "status": "passed",
      "details": {
        "start_success": true,
        "orderbook_data": {
          "BTC-USDT": {
            "available": true,
            "timestamp": 1752721400.4323719,
            "bid_count": 400,
            "ask_count": 400
          },
          "BTC-USDC": {
            "available": true,
            "timestamp": 1752721400.8258965,
            "bid_count": 400,
            "ask_count": 400
          },
          "USDT-USDC": {
            "available": true,
            "timestamp": 1752721399.0347679,
            "bid_count": 86,
            "ask_count": 328
          }
        },
        "balance_available": true,
        "performance_stats": {
          "uptime_seconds": 5.001271963119507,
          "api_calls": {
            "get_balance": {
              "count": 0,
              "avg_response_time": 0,
              "error_rate": 0,
              "errors": 0
            },
            "get_orderbook": {
              "count": 0,
              "avg_response_time": 0,
              "error_rate": 0,
              "errors": 0
            }
          },
          "websocket": {
            "messages_received": 24,
            "last_message_time": 1752721400.825581,
            "connection_errors": 0,
            "reconnections": 0,
            "msg_rate_per_sec": 4.798779225961185
          },
          "cache": {
            "hits": 3,
            "misses": 0,
            "orderbook_updates": 24,
            "balance_updates": 0,
            "hit_rate": 1.0
          },
          "errors": {
            "total": 0,
            "last_hour": 0,
            "last_error_time": 0,
            "error_rate_per_min": 0.0
          },
          "timestamp": 1752721400.9224806
        },
        "subscribed_pairs_count": 0
      }
    },
    "arbitrage_engine_test": {
      "status": "passed",
      "details": {
        "paths_loaded": 2,
        "opportunities_found": 0,
        "opportunities_details": [],
        "monitoring_stats": {
          "check_count": 3,
          "opportunity_count": 0,
          "average_profit_rate": 0,
          "runtime_seconds": 8.283821821212769,
          "checks_per_minute": 21.729100876972705,
          "opportunities_per_hour": 0.0,
          "last_check_time": 1752721409.3528724
        },
        "fee_rate": 0.001,
        "min_profit_threshold": 0.003
      }
    },
    "risk_manager_test": {
      "status": "failed",
      "details": {
        "error": "'RiskManager' object has no attribute 'check_trade_amount'",
        "traceback": "Traceback (most recent call last):\n  File \"/home/huzefan/triangular-arbitrage-bot/test_core_comprehensive.py\", line 360, in test_risk_manager\n    check_result = risk_manager.check_trade_amount(amount, total_balance)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'RiskManager' object has no attribute 'check_trade_amount'. Did you mean: 'min_trade_amount'?\n"
      }
    },
    "trade_executor_test": {
      "status": "failed",
      "details": {
        "error": "'TradeExecutor' object has no attribute '_validate_trade_params'",
        "traceback": "Traceback (most recent call last):\n  File \"/home/huzefan/triangular-arbitrage-bot/test_core_comprehensive.py\", line 422, in test_trade_executor\n    validation = trade_executor._validate_trade_params(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'TradeExecutor' object has no attribute '_validate_trade_params'\n"
      }
    },
    "websocket_test": {
      "status": "failed",
      "details": {
        "connection_success": true,
        "subscription_results": {
          "BTC-USDT": true,
          "BTC-USDC": true
        },
        "messages_received": 0,
        "connection_time": 0,
        "subscribed_channels": 2
      }
    },
    "integration_test": {
      "status": "passed",
      "details": {
        "startup_success": true,
        "module_status": {
          "data_collector": true,
          "arbitrage_engine": false,
          "status": "running"
        },
        "system_stats": "{'runtime_seconds': 10.001321077346802, 'total_opportunities': 0, 'executed_trades': 0, 'successful_trades': 0, 'failed_trades': 0, 'success_rate': 0, 'total_profit': 0.0, 'total_loss': 0.0, 'net_profit': 0.0, 'last_opportunity_time': 0.0, 'last_trade_time': 0.0, 'opportunities_per_hour': 0.0, 'trades_per_hour': 0.0}",
        "opportunities_detected": false,
        "runtime_seconds": 15
      }
    },
    "performance_test": {
      "status": "passed",
      "details": {
        "memory_usage": {
          "start_mb": 56.99609375,
          "end_mb": 57.24609375,
          "delta_mb": 0.25
        },
        "cpu_usage": {
          "start_percent": 0.0,
          "end_percent": 2.0
        },
        "api_performance": {
          "balance_query": {
            "avg_time": 0.06287059783935547,
            "max_time": 0.07660508155822754,
            "min_time": 0.05754232406616211
          },
          "orderbook_query": {
            "avg_time": 0.1033060073852539,
            "max_time": 0.11909365653991699,
            "min_time": 0.09458589553833008
          }
        }
      }
    },
    "error_handling_test": {
      "status": "passed",
      "details": {
        "error_handling_results": {
          "rapid_requests": [
            {
              "success": true,
              "response_time": 0.07428240776062012
            },
            {
              "success": true,
              "response_time": 0.06061959266662598
            },
            {
              "success": true,
              "response_time": 0.06231832504272461
            },
            {
              "success": true,
              "response_time": 0.062151432037353516
            },
            {
              "success": true,
              "response_time": 0.054782867431640625
            },
            {
              "success": true,
              "response_time": 0.07059597969055176
            },
            {
              "success": true,
              "response_time": 0.057219505310058594
            },
            {
              "success": true,
              "response_time": 0.06260371208190918
            },
            {
              "success": true,
              "response_time": 0.05785202980041504
            },
            {
              "success": true,
              "response_time": 0.0641624927520752
            }
          ],
          "invalid_pair_handling": true,
          "config_error_handling": true
        },
        "rapid_request_success_rate": 1.0,
        "invalid_pair_handled": true,
        "config_error_handled": true
      }
    }
  }
}